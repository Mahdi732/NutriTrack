<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nutrition Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#0ea5e9",
              secondary: "#10b981",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <header class="bg-white shadow-sm">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <span class="text-2xl">üçé</span>
        <span class="font-bold text-lg">Plan Nutrition</span>
      </div>
      <nav class="space-x-6">
        <a href="/" class="hover:text-blue-600">Accueil</a>
        <a href="/profile" class="hover:text-blue-600">profile</a>
        <a href="/meal" class="hover:text-blue-600">Analyse</a>
        <a href="#" class="hover:text-blue-600">Rapports</a>
        <a href="/auth/login" class="px-4 py-2 border rounded hover:bg-blue-50">Connexion</a>
      </nav>
    </div>
  </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <section
        class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"
      >
        <div class="grid md:grid-cols-2 gap-8">
          <div class="flex flex-col">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">Food Image</h2>
            <div
              class="flex-1 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center min-h-[300px]"
            >
              <img
                src="<%= imagePath ? imagePath : '' %>"
                alt="Food"
                class="max-w-full max-h-full rounded-lg object-cover"
              />
            </div>
          </div>

          <div class="flex flex-col">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">
              Upload New Image
            </h2>
            <form
              action="/meal"
              method="POST"
              enctype="multipart/form-data"
              class="flex-1 flex flex-col"
            >
              <div class="flex-1 flex flex-col justify-center space-y-4">
                <div>
                  <label
                    for="food-image"
                    class="block text-sm font-medium text-gray-700 mb-2"
                  >
                    Select food image
                  </label>
                  <input
                    type="file"
                    id="food-image"
                    name="mealImage"
                    accept="image/*"
                    required
                    class="block w-full text-sm text-gray-500 file:mr-4 file:py-3 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-sky-600 file:cursor-pointer cursor-pointer"
                  />
                </div>
                <button
                  type="submit"
                  class="w-full bg-secondary hover:bg-emerald-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200"
                >
                  Analyze Nutrition
                </button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <section
        class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"
      >
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Meal Details</h2>
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <div class="bg-blue-50 rounded-lg p-4 border border-blue-200">
            <p class="text-sm text-blue-600 font-medium mb-1">Food Item</p>
            <p class="text-lg font-semibold text-gray-900">
              Grilled Chicken Salad
            </p>
          </div>
          <div class="bg-purple-50 rounded-lg p-4 border border-purple-200">
            <p class="text-sm text-purple-600 font-medium mb-1">Portion Size</p>
            <p class="text-lg font-semibold text-gray-900">350g</p>
          </div>
          <div class="bg-amber-50 rounded-lg p-4 border border-amber-200">
            <p class="text-sm text-amber-600 font-medium mb-1">Meal Type</p>
            <p class="text-lg font-semibold text-gray-900">Lunch</p>
          </div>
          <div class="bg-green-50 rounded-lg p-4 border border-green-200">
            <p class="text-sm text-green-600 font-medium mb-1">Calories</p>
            <p class="text-lg font-semibold text-gray-900">420 kcal</p>
          </div>
        </div>
      </section>

      <section
        class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"
      >
        <h2 class="text-2xl font-bold text-gray-900 mb-6">
          Nutritional Breakdown
        </h2>
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <div
            class="bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-5 border-l-4 border-red-500"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="text-lg font-semibold text-gray-900">Protein</h3>
              <span class="text-2xl">ü•©</span>
            </div>
            <p class="text-3xl font-bold text-red-600 mb-1">35g</p>
          </div>

          <div
            class="bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-5 border-l-4 border-yellow-500"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="text-lg font-semibold text-gray-900">Carbohydrates</h3>
              <span class="text-2xl">üåæ</span>
            </div>
            <p class="text-3xl font-bold text-yellow-600 mb-1">25g</p>
          </div>

          <div
            class="bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-5 border-l-4 border-orange-500"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="text-lg font-semibold text-gray-900">Fats</h3>
              <span class="text-2xl">ü•ë</span>
            </div>
            <p class="text-3xl font-bold text-orange-600 mb-1">18g</p>
          </div>

          <div
            class="bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-5 border-l-4 border-green-500"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="text-lg font-semibold text-gray-900">Fiber</h3>
              <span class="text-2xl">ü•¨</span>
            </div>
            <p class="text-3xl font-bold text-green-600 mb-1">8g</p>
          </div>

          <div
            class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border-l-4 border-blue-500"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="text-lg font-semibold text-gray-900">Sodium</h3>
              <span class="text-2xl">üßÇ</span>
            </div>
            <p class="text-3xl font-bold text-blue-600 mb-1">650mg</p>
          </div>

          <div
            class="bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-5 border-l-4 border-pink-500"
          >
            <div class="flex items-center justify-between mb-2">
              <h3 class="text-lg font-semibold text-gray-900">Sugar</h3>
              <span class="text-2xl">üç¨</span>
            </div>
            <p class="text-3xl font-bold text-pink-600 mb-1">6g</p>
          </div>
        </div>
      </section>

      <section
        class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8"
      >
        <h2 class="text-2xl font-bold text-gray-900 mb-6">
          Profile Comparison
        </h2>
        <div class="space-y-4">
          <div
            class="flex items-start gap-4 p-4 bg-green-50 rounded-lg border border-green-200"
          >
            <div
              class="flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm mt-0.5"
            >
              ‚úì
            </div>
            <div class="flex-1">
              <h3 class="font-semibold text-gray-900 mb-1">Protein</h3>
              <p class="text-sm text-gray-700">
                Within your target range (30-40g per meal)
              </p>
            </div>
          </div>

          <div
            class="flex items-start gap-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200"
          >
            <div
              class="flex-shrink-0 w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold text-sm mt-0.5"
            >
              !
            </div>
            <div class="flex-1">
              <h3 class="font-semibold text-gray-900 mb-1">Carbohydrates</h3>
              <p class="text-sm text-gray-700">
                Below your target (40-60g per meal). Consider adding whole
                grains.
              </p>
            </div>
          </div>

          <div
            class="flex items-start gap-4 p-4 bg-green-50 rounded-lg border border-green-200"
          >
            <div
              class="flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm mt-0.5"
            >
              ‚úì
            </div>
            <div class="flex-1">
              <h3 class="font-semibold text-gray-900 mb-1">Fats</h3>
              <p class="text-sm text-gray-700">Good balance of healthy fats</p>
            </div>
          </div>

          <div
            class="flex items-start gap-4 p-4 bg-red-50 rounded-lg border border-red-200"
          >
            <div
              class="flex-shrink-0 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white font-bold text-sm mt-0.5"
            >
              ‚úó
            </div>
            <div class="flex-1">
              <h3 class="font-semibold text-gray-900 mb-1">Sodium</h3>
              <p class="text-sm text-gray-700">
                Above recommended limit (500mg per meal). Try reducing salt.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section
        class="bg-gradient-to-br from-primary to-sky-600 rounded-lg shadow-sm p-6 mb-8 text-white"
      >
        <h2 class="text-2xl font-bold mb-4">Tailored Advice</h2>
        <div class="space-y-3">
          <div class="flex items-start gap-3">
            <span class="text-xl flex-shrink-0">üí°</span>
            <p class="leading-relaxed">
              This meal is excellent for muscle recovery post-workout due to its
              high protein content.
            </p>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-xl flex-shrink-0">ü•ó</span>
            <p class="leading-relaxed">
              Consider adding a small portion of quinoa or brown rice to meet
              your carbohydrate goals.
            </p>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-xl flex-shrink-0">üßÇ</span>
            <p class="leading-relaxed">
              To reduce sodium, try using herbs and spices instead of salt for
              flavoring.
            </p>
          </div>
        </div>
      </section>

      <section class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">
          Suggested Improvements
        </h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div
            class="border border-gray-200 rounded-lg p-5 hover:border-primary transition-colors"
          >
            <div class="flex items-center gap-3 mb-3">
              <div
                class="w-10 h-10 bg-secondary rounded-full flex items-center justify-center text-white font-bold"
              >
                1
              </div>
              <h3 class="font-semibold text-gray-900 text-lg">
                Add Complex Carbs
              </h3>
            </div>
            <p class="text-gray-700 leading-relaxed">
              Include 1/2 cup of quinoa or sweet potato to boost energy levels
              and meet carbohydrate targets.
            </p>
          </div>

          <div
            class="border border-gray-200 rounded-lg p-5 hover:border-primary transition-colors"
          >
            <div class="flex items-center gap-3 mb-3">
              <div
                class="w-10 h-10 bg-secondary rounded-full flex items-center justify-center text-white font-bold"
              >
                2
              </div>
              <h3 class="font-semibold text-gray-900 text-lg">Reduce Sodium</h3>
            </div>
            <p class="text-gray-700 leading-relaxed">
              Use lemon juice, garlic, and fresh herbs instead of salt-based
              seasonings to enhance flavor naturally.
            </p>
          </div>

          <div
            class="border border-gray-200 rounded-lg p-5 hover:border-primary transition-colors"
          >
            <div class="flex items-center gap-3 mb-3">
              <div
                class="w-10 h-10 bg-secondary rounded-full flex items-center justify-center text-white font-bold"
              >
                3
              </div>
              <h3 class="font-semibold text-gray-900 text-lg">
                Increase Fiber
              </h3>
            </div>
            <p class="text-gray-700 leading-relaxed">
              Add more leafy greens or a side of beans to reach the recommended
              10-12g of fiber per meal.
            </p>
          </div>

          <div
            class="border border-gray-200 rounded-lg p-5 hover:border-primary transition-colors"
          >
            <div class="flex items-center gap-3 mb-3">
              <div
                class="w-10 h-10 bg-secondary rounded-full flex items-center justify-center text-white font-bold"
              >
                4
              </div>
              <h3 class="font-semibold text-gray-900 text-lg">Hydration</h3>
            </div>
            <p class="text-gray-700 leading-relaxed">
              Pair this meal with at least 16oz of water to aid digestion and
              nutrient absorption.
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer class="bg-white border-t border-gray-200 mt-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <p class="text-center text-gray-600 text-sm">
          Nutrition Analysis Tool - Helping you make healthier choices
        </p>
      </div>
    </footer>
  </body>
</html>
